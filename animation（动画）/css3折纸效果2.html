<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<!-- <style type="text/css">
		@-webkit-keyframes open {
			0% {
				-webkit-transform:rotateX(-120deg);
			}
			25% {
				-webkit-transform:rotateX(30deg);
			}
			50% {
				-webkit-transform:rotateX(-15deg);
			}
			75% {
				-webkit-transform:rotateX(8deg);
			}
			100% {
				-webkit-transform:rotateX(0deg);
			}
		}
		@-webkit-keyframes clos {
			0% {
				-webkit-transform: rotateX(0deg);
			}
			100% {
				-webkit-transform: rotateX(-120deg);
			}
		}
		#wrap {
			width: 160px;
			margin: 30px auto;
			-webkit-perspective: 800px;
			-webkit-transform-style: preserve-3d;
			position: relative;
		}
		#wrap h2 {
			height: 40px;
			background: #f60;
			color: #fff;
			font: bold 16px/40px "微软雅黑";
			text-align: center;
			margin: 0; 
			z-index: 10;
			position: relative;
		}
		#wrap div {
			position: absolute;
			top: 32px;
			width: 100%;
			left: 0;
			-webkit-transform-style: preserve-3d;
			-webkit-transform-origin:top;
			-webkit-transform: rotateX(-120deg);
		}	
		#wrap span {
			display: block;
			height: 30px;
			background: #9f0;
			font: 12px/30px "宋体";
			color: white;
			text-indent: 20px;
			box-shadow: inset 0 0 200px rgba(70,100,3,1);
			transition: 1s;
		}
		#wrap>div {
			top: 40px;

		}
		#wrap .show {
			-webkit-animation: 1.5s open ease;
			-webkit-transform: rotateX(0deg);
		}
		#wrap .hide {
			-webkit-animation: 1s open;
			-webkit-transform: rotateX(-120deg);
		}
		#wrap .show>span {
			box-shadow: inset 0 0 0 200px rgba(0,0,0,0);
		}
		#btn {
			position: absolute;
		}
	</style> -->
	<style>
@-webkit-keyframes open
{
	0%
	{
		-webkit-transform:rotateX(-120deg);
	}
	25%
	{
		-webkit-transform:rotateX(30deg);
	}
	50%
	{
		-webkit-transform:rotateX(-15deg);
	}
	75%
	{
		-webkit-transform:rotateX(8deg);
	}
	100%
	{
		-webkit-transform:rotateX(0deg);
	}
}
@-webkit-keyframes clos
{
	0%
	{
		-webkit-transform:rotateX(0deg);
	}
	100%
	{
		-webkit-transform:rotateX(-120deg);
	}
}
body{margin:0;}
#wrap{ width:160px;margin:30px auto; position:relative; -webkit-perspective:800px;}
#wrap h2{ height:40px;background:#F60; color:#fff; font: bold 16px/40px "微软雅黑"; text-align:center;margin:0; position:relative;z-index:10;}
#wrap div{ position:absolute;top:32px; width:100%;left:0; -webkit-transform-style:preserve-3d; -webkit-transform-origin:top;-webkit-transform:rotateX(-120deg);}
#wrap span{ display:block;height:30px;background:#9F0; font:12px/30px "宋体"; color:#fff; text-indent:20px; box-shadow:inset 0 0 0 20px rgba(0,0,0,1); transition:1s;}
#wrap>div{top:40px;}
#wrap .show{-webkit-animation:1.5s open ease;-webkit-transform:rotateX(0deg);}
#wrap .hide{-webkit-animation:0.8s clos;-webkit-transform:rotateX(-120deg);}
#wrap .show>span{ box-shadow:inset 0 0 0 20px rgba(0,0,0,0);}
#btn{ position:absolute;}
</style>
</head>
<body>
	<input type="button" name="" value="展开" id="btn" />
	<div id="wrap">
		<h2>我是标题</h2>
		<div>
			<span>选项一</span>
			<div>
				<span>选项二</span>
				<div>
					<span>选项三</span>
					<div>
						<span>选项四</span>
						<div>
							<span>选项五</span>
							<div>
								<span>选项六</span>
								<div>
									<span>选项七</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
<script type="text/javascript">
	var oBtn = document.getElementById("btn");
	var oWrap = document.getElementById("wrap");
	var aDiv = oWrap.getElementsByTagName("div");
	var iDelay = 100;
	var i = 0;
	var oTimer = null;
	var bOff = true;
	oBtn.onclick=function(){
		console.log(bOff);
		if (bOff) {

			if (i<=0) {
				i = 0;
			}
			else {
				return;
			}
			oTimer = setInterval(function(){
				aDiv[i].className = "show";
				i++;
				if (i == aDiv.length) {
					clearInterval(oTimer);
					bOff = false;
				}
			},iDelay);
			oBtn.value = "收起";
			
		}else {
			if (i>=aDiv.length) {
				i = aDiv.length-1;
			}
			else {
				return;
			}
			oTimer = setInterval(function(){
				aDiv[i].className = "hide";
				i--;
				if (i < 0) {
					clearInterval(oTimer);
					bOff = true;
				}
			},iDelay);
			oBtn.value = "展开";

		}
		
	}
</script>
</body>

</html>